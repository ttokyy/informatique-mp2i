\input{../packages.tex}

%\AtEndDocument{\label{lastpage}}
%\lhead{}
%\chead{}
%\rhead{}
%\lfoot{Informatique - MP2I Lycée Fermat}
%\cfoot{}
%\rfoot{\thepage/\pageref{lastpage}}
%\renewcommand{\headrulewidth}{0pt}
%\fancyhfoffset{0.7cm}

% Titles, sections, intros

%	\titleformat*{\section}{\fontsize{18.5pt}{18.5pt}\selectfont\bfseries}
%	\titleformat*{\subsection}{\fontsize{15.5pt}{15.5pt}\selectfont\bfseries}
%	\titleformat*{\subsubsection}{\fontsize{13.25pt}{13.25pt}\selectfont\bfseries}
	
	\renewcommand{\title}[1]{
		\hrule
		\vspace{3mm}
		\begin{center}
			{\Huge{#1}}
		\end{center}
		\vspace{4.5mm}
		\hrule
		\vspace{6mm}
	}
	
	\newcommand{\intro}[1]{
		\begin{center}
			\textit{#1}
			\vspace{4mm}
		\end{center}
	}

% Math formatting, symbols and operators

	\renewcommand{\cal}[1]{\mathcal{#1}}
	\newcommand{\scr}[1]{\mathscr{#1}}
	\newcommand{\bb}[1]{\mathbb{#1}}
	\newcommand{\bbm}[1]{\mathbbm{#1}}
	\renewcommand{\rm}[1]{\mathrm{#1}}
	
	\DeclareMathOperator*{\argmax}{argmax}
	\DeclareMathOperator*{\argmin}{argmin}
	\newcommand{\dotp}{\cdot}
	\newcommand{\x}{\times}
	\DeclareMathOperator{\card}{Card}
	
	\DeclareMathOperator{\Id}{Id}
	%\newcommand{\Id}{I\hspace{-0.5mm}d}
	
	\newcommand{\impright}{\(\bm{(\Rightarrow) :}\) }
	\newcommand{\impleft}{\(\bm{(\Leftarrow) :}\) }
	\renewcommand{\iff}{\Longleftrightarrow}
	
	\newcommand{\fun}[4]{
		\left( \begin{tabular}[h]{rcl}
			\(#1\) & \(\rightarrow\) & \(#2\) \\
			\(#3\) & \(\mapsto\) & \(#4\)
		\end{tabular} \right)
	}
	
	\newcommand{\funn}[6]{
		\left( \begin{tabular}[h]{rcl}
			\(#1\) & \(\rightarrow\) & \(#2\) \\
			\(#3\) & \(\mapsto\) & \(#4\) \\
			\(#5\) & \(\mapsto\) & \(#6\)
		\end{tabular} \right)
	}

	\newcommand{\funnn}[8]{
		\left( \begin{tabular}[h]{rcl}
			\(#1\) & \(\rightarrow\) & \(#2\) \\
			\(#3\) & \(\mapsto\) & \(#4\) \\
			\(#5\) & \(\mapsto\) & \(#6\) \\
			\(#7\) & \(\mapsto\) & \(#8\)
		\end{tabular} \right)
	}
	
	\newcommand{\pbm}[3]{
		\setlength{\tabcolsep}{5.5pt}
		\!\!\!\!\textsf{\textbf{{#1}}} \hspace{-0.8mm}
		\begin{tabular}[t]{|| l }
			\textbf{entrée :\ignorespaces} #2 \\
			\textbf{sortie :\ignorespaces} #3
	\end{tabular}
	}

% Lines, layout and spacing
	
	\newcommand{\vs}[1]{\vspace*{{#1}mm}}
	\newcommand{\hs}[1]{\hspace*{{#1}mm}}
	\newcommand{\nt}{\\[2mm]}
	\newcommand{\nll}{\\[5mm]}
	
	\allowdisplaybreaks
	
	\newcommand{\eqskip}[1]{
		\setlength{\abovedisplayskip}{#1}
		\setlength{\belowdisplayskip}{#1}
	}
	
	\newcommand{\colsep}[1]{\setlength{\tabcolsep}{#1}}

% Bullets and lists
	
	\newcommand{\bdot}{\(\bm{\cdot}\) }
	
	\renewcommand{\i}{\(\bm{i.}\) }
	\newcommand{\ii}{\(\bm{i}\hspace{-0.4mm}\bm{i.}\) }
	\newcommand{\iii}{\(\bm{i}\hspace{-0.4mm}\bm{i}\hspace{-0.4mm}\bm{i.}\) }
	\newcommand{\iv}{\(\bm{i}\hspace{-0.4mm}\bm{v.}\) }
	\renewcommand{\v}{\(\bm{v.}\) }

% Item labels

%	\newenvironment{Definition}[1][]{ \vspace{5mm}
%		\begin{thmbox}[L,leftmargin=8mm,underline=true]
%			{\textbf{Définition
%				\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
%			}}}
%		{\end{thmbox}}
	\newenvironment{Definitions}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Définitions
				\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
			}}}
		{\end{thmbox}}
	
	\newenvironment{Proposition}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Proposition
				\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
			}}}
		{\end{thmbox}}
	
	\newenvironment{Propriete}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Propriété
				\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
			}}}
		{\end{thmbox}}
	\newenvironment{Proprietes}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Propriétés
				\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
			}}}
		{\end{thmbox}}
	
	\newenvironment{Notation}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Notation
				\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
			}}}
		{\end{thmbox}}
	\newenvironment{Notations}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Notations
					\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
		}}}
		{\end{thmbox}}
	
	\newenvironment{Corollaire}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Corollaire
					\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
		}}}
		{\end{thmbox}}
	
	\newenvironment{Lemme}{
		\begin{addmargin}{0mm} \textbf{Lemme :\ignorespaces}}
		{\end{addmargin}}
	
	\newenvironment{Rappel}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Rappel
					\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
		}}}
		{\end{thmbox}}
	
\newenvironment{Preuve}[1][]{
	\begin{addmargin}{5mm} \textbf{Preuve
		\ifthenelse{\equal{#1}{}}{:\ignorespaces}{de #1 :\ignorespaces}} \\}
	{\end{addmargin}}
	
	\newenvironment{Correction}{
		\begin{addmargin}{5mm} \textbf{Correction :\ignorespaces}}
		{\end{addmargin}}

	\newenvironment{Exemple}{
		\begin{addmargin}{5mm} \textbf{Exemple :\ignorespaces}}
		{\end{addmargin}}
	
	\newenvironment{Exemples}{
		\begin{addmargin}{5mm} \textbf{Exemples :\ignorespaces}}
		{\end{addmargin}}
	
	\newenvironment{Illustration}{
		\begin{addmargin}{5mm} \textbf{Illustration :\ignorespaces}}
		{\end{addmargin}}
	
	\newenvironment{Exercice}{
		\begin{addmargin}{5mm} \textbf{Exercice :\ignorespaces}}
		{\end{addmargin}}
	
	\newenvironment{Remarque}{
		\begin{addmargin}{5mm} \textbf{Remarque :\ignorespaces}}
		{\end{addmargin}}
	
	\newenvironment{Aretenir}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{\`A retenir
					\ifthenelse{\equal{#1}{}}{:\ignorespaces}{(\textit{#1}) :\ignorespaces}
		}}}
		{\end{thmbox}}
	
	\newenvironment{Syntaxe}[1][]{ \vspace{5mm}
		\begin{thmbox}[L,leftmargin=8mm,underline=true]
			{\textbf{Syntaxe
					\ifthenelse{\equal{#1}{}}{:\ignorespaces}{-- #1 :\ignorespaces}
		}}}
		{\end{thmbox}}
	
	\newenvironment{algo}[4]
		{\colsep{6.5pt} \begin{addmargin}{0mm}\underline{\textbf{Algorithme -- \textsf{#1}\ignorespaces}} \\[0mm]
		\hs{10} \begin{tabular}{||l}
			\begin{algorithm}[H]
				\hs{-4} \begin{tabular}{l}
					\textbf{entrée :} #2
					\ifthenelse{\equal{#3}{}}{}{\\ \textbf{sortie :} #3}
					\ifthenelse{\equal{#4}{}}{}{\\ \textbf{hypothèses :} #4}
				\end{tabular} \\[3mm] \Indp}
		{\end{algorithm} \end{tabular} \end{addmargin}}
	
	\newenvironment{algocont}
	{\begin{addmargin}{0mm}
			\hs{10} \begin{tabular}{||l}
				\begin{algorithm}[H]
					\Indp}
				{\end{algorithm} \end{tabular} \end{addmargin}}
			
	\newenvironment{pscode}[4]
	{\colsep{6.5pt} \begin{addmargin}{0mm}\underline{\textbf{Pseudo-code -- \textsf{#1}\ignorespaces}} #2 \(\to\) #3 \\[0mm]
			\hs{10} \begin{tabular}{||l}
				\begin{algorithm}[H]
					\ifthenelse{\equal{#4}{}}{\vs{2}}{\textbf{hyp :} #4 \\[2mm]} \Indp}
				{\end{algorithm} \end{tabular} \end{addmargin}}

		
% MINTED & CODE
	
	\newcommand{\cc}[1]{\mintinline[escapeinside=@@]{c}{#1}}
	\newcommand{\caml}[1]{\mintinline[escapeinside=@@]{ocaml}{#1}}
	\newcommand{\bash}[1]{\mintinline{bash}{#1}}
	
	\newminted[C]{c}{
		escapeinside=@@,
		tabsize=4,
		linenos
	}

	\newminted[Caml]{ocaml}{
	escapeinside=@@,
	tabsize=4
}
	
% OTHER
	
	\renewcommand{\thealgocf}{}
	\SetInd{1em}{1em}
	
	\newcommand{\entspace}{\hspace*{17.4mm}\ignorespaces}
	\newcommand{\aentspace}{\hspace*{17.4mm}\ignorespaces}
	% \newcommand{\hypspace}{\hspace*{18.5mm}\ignorespaces}
	\newcommand{\listspace}{\hspace*{2.6mm}\ignorespaces}
	\newcommand{\listskip}{\hspace*{5mm} \listspace\ignorespaces}
	
	\renewcommand{\mod}[1]{\,\,\, [\text{mod }#1]}
	
	\newcommand{\codecom}[1]{\colsep{1.2pt}\quad{\footnotesize \textbf{/\!\!/\emph{#1}}}}
	
% OUTDATED

	\newcommand{\plabel}[1]{\textbf{#1}}
	
	\newcommand{\uplabel}[1]{\underline{\textbf{#1}}}
	
	\newcommand{\thuplabel}[2]{
		\vspace{4mm}
		\begin{thmbox}[S,leftmargin=8mm]{\uplabel{#1}}
			{#2}
		\end{thmbox}
		\vspace{2mm}
	}
	
	\newcommand{\shortproof}[1]{\plabel{\textcolor{lightgray}{$\bm{\blacklozenge}$} \textcolor{darkgray}{Preuve : }}{\small \textcolor{darkgray}{#1} \normalsize \nl}}
	
	\newcommand{\corr}[1]{\plabel{\textcolor{lightgray}{$\bm{\blacklozenge}$} \textcolor{darkgray}{Correction :}} \\[2mm] \hspace*{3.5mm} \parbox{167mm}{#1} \nl}